schema: '2.0'
stages:
  create-chatito-definitions:
    cmd: python3 translator.py -t "writer/chatito_template.chatito" -o "writer/chatito_model.chatito"
      -p params.yaml
    deps:
    - path: translator.py
      md5: 5a4b2faef151ea65b7f548bf55d3b304
      size: 10764
    - path: writer/chatito_template.chatito
      md5: 1d37e3f5bc420ea54cd434a7c9e2d83c
      size: 2092
    params:
      params.yaml:
        dataset.max_ngrams: 3
    outs:
    - path: writer/chatito_model.chatito
      md5: c1c7eb264b34182e5b01efd65234a713
      size: 96355
  generate-phrases:
    cmd: npx chatito writer/chatito_model.chatito --format=rasa --defaultDistribution=even
      --outputPath=writer
    deps:
    - path: writer/chatito_model.chatito
      md5: c1c7eb264b34182e5b01efd65234a713
      size: 96355
    outs:
    - path: writer/rasa_dataset_testing.json
      md5: a9134e0de3cad20504a88fdc5fd9ae73
      size: 216857
    - path: writer/rasa_dataset_training.json
      md5: a1f4323f16265eee7c99fa9d4967ca0e
      size: 865572
  convert-data-to-yaml:
    cmd:
    - rasa data convert nlu -f yaml --data=writer/rasa_dataset_training.json --out=data/chatito_nlu.yml
    - rasa data convert nlu -f yaml --data=writer/rasa_dataset_testing.json --out=data/test_chatito_nlu.yml
    deps:
    - path: writer/rasa_dataset_testing.json
      md5: a9134e0de3cad20504a88fdc5fd9ae73
      size: 216857
    - path: writer/rasa_dataset_training.json
      md5: a1f4323f16265eee7c99fa9d4967ca0e
      size: 865572
    outs:
    - path: data/chatito_nlu.yml
      md5: c709b4d986051f51c4304406218e9f2f
      size: 268240
    - path: data/test_chatito_nlu.yml
      md5: a8d4b355901ad04a857970320a969c74
      size: 67252
  train:
    cmd: rasa train --fixed-model-name nlu_model --out models --data data/chatito_nlu.yml
    deps:
    - path: config.yml
      md5: 2b5e1366de3c068c134e338528382206
      size: 949
    - path: data/chatito_nlu.yml
      md5: c709b4d986051f51c4304406218e9f2f
      size: 268240
    - path: domain.yml
      md5: 65e4c57c53635900895b120f5ed8c944
      size: 863
    outs:
    - path: models/nlu_model.tar.gz
      md5: 3de41b3e62bae2f6114de21137e9438b
      size: 43185737
  test:
    cmd: rasa test nlu -m models/nlu_model.tar.gz -u data/test_chatito_nlu.yml
    deps:
    - path: data/test_chatito_nlu.yml
      md5: a8d4b355901ad04a857970320a969c74
      size: 67252
    - path: models/nlu_model.tar.gz
      md5: 3de41b3e62bae2f6114de21137e9438b
      size: 43185737
    outs:
    - path: results/DIETClassifier_confusion_matrix.png
      md5: 44a1fea0f9ebb04c951ede5a052dc9c2
      size: 187993
    - path: results/DIETClassifier_errors.json
      md5: 9d2ec1621cf3f5f7e04376c1ed2def13
      size: 130639
    - path: results/DIETClassifier_histogram.png
      md5: 920cef778cb4b036e358e9a1bfb35550
      size: 48580
    - path: results/DIETClassifier_report.json
      md5: 8233689f3000a2cfd1e05f6c1ab76f40
      size: 8798
    - path: results/intent_confusion_matrix.png
      md5: 940461ea7fcb8437903dd7d3b0d7181c
      size: 81544
    - path: results/intent_errors.json
      md5: 7ad33fc8f5d34108aebe6e3340bb1e8d
      size: 1057
    - path: results/intent_histogram.png
      md5: e5729fa0a542464236d8fadf8b3de298
      size: 47059
    - path: results/intent_report.json
      md5: 009e44f4a8f0b5e4081e3a7974a53fe6
      size: 2021
