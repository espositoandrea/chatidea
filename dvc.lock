schema: '2.0'
stages:
  create-chatito-definitions:
    cmd: python3 translator.py
    deps:
    - path: translator.py
      md5: 4c7a36a0fe3a5f5ddcfa1b376e6ae5d9
      size: 8937
    - path: writer/chatito_template.chatito
      md5: 1d37e3f5bc420ea54cd434a7c9e2d83c
      size: 2092
    outs:
    - path: writer/chatito_model.chatito
      md5: a3fc3f841b3795f2e8aee0fe01299890
      size: 39596
  generate-phrases:
    cmd: npx chatito writer/chatito_model.chatito --format=rasa --defaultDistribution=even
      --outputPath=writer
    deps:
    - path: writer/chatito_model.chatito
      md5: a3fc3f841b3795f2e8aee0fe01299890
      size: 39596
    outs:
    - path: writer/rasa_dataset_testing.json
      md5: 6c6c0b01762470c60bd6c5c6f30c5872
      size: 166790
    - path: writer/rasa_dataset_training.json
      md5: ae48eb7713b3895028911bdc754051e9
      size: 663639
  convert-data-to-yaml:
    cmd:
    - rasa data convert nlu -f yaml --data=writer/rasa_dataset_training.json --out=data/chatito_nlu.yml
    - rasa data convert nlu -f yaml --data=writer/rasa_dataset_testing.json --out=data/test_chatito_nlu.yml
    deps:
    - path: writer/rasa_dataset_testing.json
      md5: 6c6c0b01762470c60bd6c5c6f30c5872
      size: 166790
    - path: writer/rasa_dataset_training.json
      md5: ae48eb7713b3895028911bdc754051e9
      size: 663639
    outs:
    - path: data/chatito_nlu.yml
      md5: 45e18f1de0e1034819d441126836482a
      size: 191779
    - path: data/test_chatito_nlu.yml
      md5: 71d79fbcde3fec434bd55a1c86bf1754
      size: 48867
  train:
    cmd: rasa train --fixed-model-name nlu_model --out models --data data/chatito_nlu.yml
    deps:
    - path: config.yml
      md5: 9d7e6d9e8e13e64f823ccc0a365776db
      size: 1422
    - path: data/chatito_nlu.yml
      md5: 45e18f1de0e1034819d441126836482a
      size: 191779
    - path: domain.yml
      md5: 65e4c57c53635900895b120f5ed8c944
      size: 863
    outs:
    - path: models/nlu_model.tar.gz
      md5: 22b29da89e11e29d019208890cee078c
      size: 32575503
  test:
    cmd: rasa test nlu -m models/nlu_model.tar.gz -u data/test_chatito_nlu.yml
    deps:
    - path: data/test_chatito_nlu.yml
      md5: 71d79fbcde3fec434bd55a1c86bf1754
      size: 48867
    - path: models/nlu_model.tar.gz
      md5: 22b29da89e11e29d019208890cee078c
      size: 32575503
    outs:
    - path: results/DIETClassifier_confusion_matrix.png
      md5: 46e47ad9b9f508ac8e3b76bc346dd4b7
      size: 156658
    - path: results/DIETClassifier_errors.json
      md5: 45e19803afb1e83c2b0b4cfd50f1ed07
      size: 24972
    - path: results/DIETClassifier_histogram.png
      md5: 982a7ef13ed77ad35aa99ed994f9e361
      size: 45997
    - path: results/DIETClassifier_report.json
      md5: 4360704e7581453c7c957d6fdc96c02d
      size: 7601
    - path: results/intent_confusion_matrix.png
      md5: 0a8018319ded3dadefc10bc2bfb81008
      size: 82552
    - path: results/intent_errors.json
      md5: 0bb686c1ae7bfa2c2cb87c8caf67db59
      size: 179
    - path: results/intent_histogram.png
      md5: cf0e6afd356aa9e05bf6d0aa270e066c
      size: 46496
    - path: results/intent_report.json
      md5: 0a3e2941b910a44ebf16a0bc883c4cdd
      size: 1990
