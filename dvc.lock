schema: '2.0'
stages:
  create-chatito-definitions:
    cmd: python3 translator.py
    deps:
    - path: translator.py
      md5: 4c7a36a0fe3a5f5ddcfa1b376e6ae5d9
      size: 8937
    - path: writer/chatito_template.chatito
      md5: 1d37e3f5bc420ea54cd434a7c9e2d83c
      size: 2092
    outs:
    - path: writer/chatito_model.chatito
      md5: c1c7eb264b34182e5b01efd65234a713
      size: 96355
  generate-phrases:
    cmd: npx chatito writer/chatito_model.chatito --format=rasa --defaultDistribution=even
      --outputPath=writer
    deps:
    - path: writer/chatito_model.chatito
      md5: c1c7eb264b34182e5b01efd65234a713
      size: 96355
    outs:
    - path: writer/rasa_dataset_testing.json
      md5: 2fe95f1c6065213defc456350a916360
      size: 210310
    - path: writer/rasa_dataset_training.json
      md5: 80a64fb2c3079ee987db42634b32220c
      size: 871258
  convert-data-to-yaml:
    cmd:
    - rasa data convert nlu -f yaml --data=writer/rasa_dataset_training.json --out=data/chatito_nlu.yml
    - rasa data convert nlu -f yaml --data=writer/rasa_dataset_testing.json --out=data/test_chatito_nlu.yml
    deps:
    - path: writer/rasa_dataset_testing.json
      md5: 2fe95f1c6065213defc456350a916360
      size: 210310
    - path: writer/rasa_dataset_training.json
      md5: 80a64fb2c3079ee987db42634b32220c
      size: 871258
    outs:
    - path: data/chatito_nlu.yml
      md5: 85349a10a8d0ab0dcd80130b30ed1266
      size: 270225
    - path: data/test_chatito_nlu.yml
      md5: a12eec6f05540a5673ed1e3640dc37c0
      size: 64719
  train:
    cmd: rasa train --fixed-model-name nlu_model --out models --data data/chatito_nlu.yml
    deps:
    - path: config.yml
      md5: 2b5e1366de3c068c134e338528382206
      size: 949
    - path: data/chatito_nlu.yml
      md5: 85349a10a8d0ab0dcd80130b30ed1266
      size: 270225
    - path: domain.yml
      md5: 65e4c57c53635900895b120f5ed8c944
      size: 863
    outs:
    - path: models/nlu_model.tar.gz
      md5: dd8a20e31d737ac8043e5e780bcbec14
      size: 43520311
  test:
    cmd: rasa test nlu -m models/nlu_model.tar.gz -u data/test_chatito_nlu.yml
    deps:
    - path: data/test_chatito_nlu.yml
      md5: a12eec6f05540a5673ed1e3640dc37c0
      size: 64719
    - path: models/nlu_model.tar.gz
      md5: dd8a20e31d737ac8043e5e780bcbec14
      size: 43520311
    outs:
    - path: results/DIETClassifier_confusion_matrix.png
      md5: 579c4890148498d4dab8512c51978a72
      size: 180068
    - path: results/DIETClassifier_errors.json
      md5: 3a8ca31ec9eb204776c21183894d910d
      size: 109940
    - path: results/DIETClassifier_histogram.png
      md5: 36de8eba065700e017fc5877241a9a20
      size: 48117
    - path: results/DIETClassifier_report.json
      md5: 9bc9a082d575db26f1fb4961122c6c2d
      size: 8694
    - path: results/intent_confusion_matrix.png
      md5: 35fd6adc439add1ad00123438b3a67ef
      size: 78886
    - path: results/intent_errors.json
      md5: 2a2b2deeb1bb4dc3c04c65421df87e54
      size: 872
    - path: results/intent_histogram.png
      md5: 5a41dda6200465dde6f6fa7c1e617c3b
      size: 46293
    - path: results/intent_report.json
      md5: 1f9f1bfa492531611cb037a25457d9ac
      size: 1951
