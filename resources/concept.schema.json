{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"$id": "https://chatidea.github.io/schemas/concept",
	"title": "Database Concept",
	"description": "A descriptor of a database concept for use in CHATIDEA",
	"type": "array",
	"items": {
		"type": "object",
		"properties": {
			"element_name": {
				"type": "string"
			},
			"aliases": {
				"type": "array",
				"items": {
					"type": "string"
				}
			},
			"type": {
				"enum": [
					"primary",
					"secondary",
					"crossable"
				]
			},
			"table_name": {
				"type": "string"
			},
			"show_columns": {
				"type": "array",
				"items": {
					"type": "object",
					"properties": {
						"keyword": {
							"type": "string"
						},
						"columns": {
							"type": "array",
							"items": {
								"type": "string"
							}
						}
					},
					"additionalProperties": false
				}
			},
			"category": {
				"type": "array",
				"items": {
					"type": "object",
					"additionalProperties": false,
					"required": [
						"keyword",
						"alias",
						"column"
					],
					"properties": {
						"column": {
							"type": "string"
						},
						"alias": {
							"type": "string"
						},
						"keyword": {
							"type": "string"
						}
					}
				}
			},
			"attributes": {
				"type": "array",
				"items": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"keyword": {
							"type": "string"
						},
						"type": {
							"enum": [
								"word"
							]
						},
						"columns": {
							"type": "array",
							"items": {
								"type": "string",
								"minItems": 1
							}
						},
						"by": {
							"type": "array",
							"items": {
								"type": "object",
								"properties": {
									"from_table_name": {
										"type": "string"
									},
									"from_columns": {
										"type": "array",
										"items": {
											"type": "string",
											"minItems": 1
										}
									},
									"to_table_name": {
										"type": "string"
									},
									"to_columns": {
										"type": "array",
										"items": {
											"type": "string",
											"minItems": 1
										}
									}
								},
								"required": [
									"from_table_name",
									"from_columns",
									"to_table_name",
									"to_columns"
								],
								"additionalProperties": false
							}
						}
					},
					"required": [
						"keyword",
						"type",
						"columns"
					]
				}
			},
			"relations": {
				"type": "array",
				"items": {
					"type": "object",
					"additionalProperties": false,
					"required": [
						"keyword",
						"element_name",
						"by"
					],
					"properties": {
						"keyword": {
							"type": "string"
						},
						"element_name": {
							"type": "string"
						},
						"by": {
							"$ref": "#/items/properties/attributes/items/properties/by"
						}
					}
				}
			}
		},
		"additionalProperties": false
	}
}